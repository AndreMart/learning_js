<%- include('../../templates/site/header.ejs') %>

<body>
    <%- include('../../templates/site/nav.ejs') %>
    <div class="container">
        <% if(!result.articles) {%>
            NÃ£o foram encontrados artigos
        <% } %>     
        <h1>Artigos</h1>
        <% result.articles.rows.forEach(article=>{ %>
            <div class="card">
                <div class="card-body"><%= article.title %>
                    <div>
                        <a class="btn btn-primary" href="/article/<%= article.slug %>">Ver</a>
                    </div>
                </div>
            </div>
            <hr>
        <% }) %>

        <nav aria-label="Page navigation">
            <ul class="pagination">
                <% for(let i=0; i < numberPages; i++) { %>
                    <% if(i==0) {%>
                        <li class="page-item"><a class="page-link" href="/article/<%= i %>">...</a></li>
                    <% }else {%>
                        <li class="page-item"><a class="page-link" href="/article/<%= i %>"><%= i %> </a></li>
                    <%} %>
                <% } %> 
            </ul>
          </nav>

        <%- include('../../templates/site/scripts.ejs') %>

        <script>
            function deleteConfirm(event, form) {
                console.log(name)
                event.preventDefault()
                const confirmed = confirm("Deseja deletar");
                if (confirmed) {
                    form.submit()
                }
            }
        </script>